# Modularpacks is an unofficial port of the Sophisticated Backpacks mod for Paper servers created by TooterTutor.
modularpacks:
  Enabled: true
  # ResuzeGUI: When false, keeps the backpack pages at a fixed GUI size. When true, makes the backpacks dynamically resize the GUI pages.
  ResizeGUI: true
  AutoCloseOnTeleport: true

  Debug:
    # When true, logs Backpack/Module inventory click+drag events to `plugins/modularpacks/click-events.log`
    ClickLog: false

  # Backpack Sound Effects
  BackpackOpenSound: CHEST_OPEN
  BackpackCloseSound: CHEST_CLOSE

  # Shulker & Bundle Settings
  AllowShulkerBoxes: false
  AllowBundles: false

  # Prevent specific item types from being inserted into backpacks (Magnet respects this).
  # Example:
  # BackpackInsertBlacklist:
  #   - BEDROCK
  #   - SHULKER_BOX
  BackpackInsertBlacklist: []

  # GUI Materials
  NavPageButtons: ARROW
  NavBorderFiller: GRAY_STAINED_GLASS_PANE
  UnlockedUpgradeSlotMaterial: WHITE_STAINED_GLASS_PANE
  LockedUpgradeSlotMaterial: IRON_BARS

  # GUI Navigation Layout
  # üÆµüÆÄüÆÅüÆÅüÆÅüÆÅüÆÅüÆÄüÆ∂
  #
  # Total of 9 slots wide.
  # üÆµ & üÆ∂ represents the Page Buttons
  # üÆÄ represents the Border Fillers
  # üÆÅ represents the UpgradeSlots

BackpackTypes:
  # CraftingRecipe supports either:
  # 1) Single recipe (old format):
  #    CraftingRecipe:
  #      Type: Crafting
  #      Pattern: ["III","IBI","III"]
  #      Ingredients: { I: IRON_INGOT, B: BACKPACK:Leather }
  #
  # 2) Multiple alternative recipes (list-of-maps format):
  #    CraftingRecipe:
  #      - "1": { Type: Crafting, Pattern: [...], Ingredients: {...} }
  #      - "2": { Type: Crafting, Pattern: [...], Ingredients: {...} }
  Leather:
    Rows: 2
    UpgradeSlots: 1
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - "SLS"
        - "WCW"
        - "LLL"
      Ingredients:
        L: LEATHER
        S: STRING
        C: CHEST
        W: WHITE_WOOL
      OutputMaterial: PLAYER_HEAD
    DisplayName: "&6Leather Backpack"
    Lore:
      - "&7Leather Backpack that can carry 2 rows of items."
      - "{backpackContents}"
      - "{backpackId}"
      - "{installedModules}"
    CustomModelData: 1001
    SkullData:
  Copper:
    Rows: 3
    UpgradeSlots: 1
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "CBC"
        - " C "
      Ingredients:
        C: COPPER_INGOT
        B: BACKPACK:Leather
      OutputMaterial: PLAYER_HEAD
    DisplayName: "&6Copper Backpack"
    Lore:
      - "&7Copper Backpack that can carry 3 rows of items."
      - "{backpackContents}"
      - "{backpackId}"
      - "{installedModules}"
    CustomModelData: 1002
    SkullData:
  Iron:
    Rows: 4
    UpgradeSlots: 2
    CraftingRecipe:
      - "1":
        Type: Crafting
        Pattern:
          - "III"
          - "IBI"
          - "III"
        Ingredients:
          I: IRON_INGOT
          B: BACKPACK:Leather
        OutputMaterial: PLAYER_HEAD
        DisplayName: "&6Iron Backpack"
        Lore:
          - "&7Iron Backpack that can carry 4 rows of items."
          - "{backpackContents}"
          - "{backpackId}"
          - "{installedModules}"
        CustomModelData: 1003
        SkullData:
      - "2":
        Type: Crafting
        Pattern:
          - " I "
          - "IBI"
          - " I "
        Ingredients:
          I: IRON_INGOT
          B: BACKPACK:Copper
        OutputMaterial: PLAYER_HEAD
        DisplayName: "&6Iron Backpack"
        Lore:
          - "&7Iron Backpack that can carry 4 rows of items."
          - "{backpackContents}"
          - "{backpackId}"
          - "{installedModules}"
        CustomModelData: 1003
        SkullData:
  Gold:
    Rows: 6
    UpgradeSlots: 3
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - "GGG"
        - "GBG"
        - "GGG"
      Ingredients:
        G: GOLD_INGOT
        B: BACKPACK:Iron
      OutputMaterial: PLAYER_HEAD
    DisplayName: "&6Gold Backpack"
    Lore:
      - "&7Gold backpack that can carry 6 rows of items."
      - "{backpackContents}"
      - "{backpackId}"
      - "{installedModules}"
    CustomModelData: 1004
    SkullData:
  Diamond:
    Rows: 8
    UpgradeSlots: 4
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - "DDD"
        - "DBD"
        - "DDD"
      Ingredients:
        D: DIAMOND
        B: BACKPACK:Gold
      OutputMaterial: PLAYER_HEAD
    DisplayName: "&6Diamond Backpack"
    Lore:
      - "&7Diamond backpack that can carry 8 rows of items."
      - "{backpackContents}"
      - "{backpackId}"
      - "{installedModules}"
    CustomModelData: 1005
    SkullData:
  Netherite:
    Rows: 10
    UpgradeSlots: 5
    CraftingRecipe:
      Type: Smithing
      Template: NETHERITE_UPGRADE_SMITHING_TEMPLATE
      Base: BACKPACK:Diamond
      Addition: NETHERITE_INGOT
      OutputMaterial: PLAYER_HEAD
    DisplayName: "&6Netherite Backpack"
    Lore:
      - "&7Netherite backpack that can carry 10 rows of items."
      - "{backpackContents}"
      - "{backpackId}"
      - "{installedModules}"
    CustomModelData: 1006
    SkullData:

# ScreenType can be one NONE, Crafting, Smelting, Blasting, Smoking, Stonecutter, Anvil, Smithing, Dropper, or Hopper.
#
# CraftingRecipe.Ingredients supports vanilla materials (e.g. `IRON_INGOT`) AND special ModularPacks tokens:
# - `BACKPACK:<TypeId>` or `<TYPE>_BACKPACK` (e.g. `BACKPACK:Leather`, `DIAMOND_BACKPACK`) to require a ModularPacks backpack item
# - `MODULE:<UpgradeId>` / `UPGRADE:<UpgradeId>` to require a ModularPacks module item

# Attributes are extra data attached to the upgrade that define what it can do. Below is the current list of attributes one can assign.
# Active: must be activated to work. Passive: always works unless toggled toggled.
# Voidproof: immune to falling into the void. Despawnproof: immune to despawning.
# Fireproof: immune to burning in lava/fires. Magnet: Attracts items.
# FluidTank: allows fluids to be stored in module.
# ExperienceTank: allows experience to be stored in module.

Upgrades:
  # Utility upgrades provide various useful features to backpacks.
  CraftingTemplate:
    Enabled: true
    Toggleable: false
    ScreenType: NONE
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - "SIS"
        - "ILI"
        - "SIS"
      Ingredients:
        S: STRING
        I: IRON_INGOT
        L: LEATHER
      OutputMaterial: ITEM_FRAME
      Glint: true
    DisplayName: "Module Template"
    Lore:
      - "&7Base template required to craft backpack upgrades."
    CustomModelData: 3001

  Everlasting:
    Enabled: true
    Toggleable: false
    # Type of screen to open when clicking on the upgrade in the backpack GUI.
    ScreenType: NONE
    # Crafting Recipe for the upgrade
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " N "
        - "NTN"
        - " N "
      Ingredients:
        N: NETHER_STAR
        T: MODULE:CraftingTemplate
      OutputMaterial: NETHER_STAR
      Glint: true
    DisplayName: "&bEverlasting Upgrade"
    Lore:
      - "&7Prevents the backpack from falling into the void, or despawning."
      - "{moduleActions}"
    CustomModelData: 2001

  Magnet:
    Enabled: true
    Toggleable: true
    # Type of screen to open when clicking on the upgrade in the backpack GUI.
    ScreenType: Dropper
    # Magnet behavior tuning
    Range: 6.0
    MaxItemsPerTick: 32
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - "L R"
        - "ITI"
        - "III"
      Ingredients:
        L: LAPIS_LAZULI
        R: REDSTONE
        I: IRON_INGOT
        T: MODULE:CraftingTemplate
      OutputMaterial: LEVER
      Glint: true
    DisplayName: "&aMagnet Upgrade"
    Lore:
      - "&7Automatically picks up items in a radius of the backpack."
      - "{toggleState}"
      - "{moduleActions}"
      - "{magnetRange}"
    CustomModelData: 2002

  Tank:
    Enabled: true
    Toggleable: true
    SecondaryAction: true
    ScreenType: NONE
    # Tank behavior (currently supports storing/filling water & lava buckets)
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " E "
        - "WTL"
        - " B "
      Ingredients:
        E: EXPERIENCE_BOTTLE
        W: WATER_BUCKET
        T: MODULE:CraftingTemplate
        L: LAVA_BUCKET
        B: BUCKET
      OutputMaterial: BUCKET
      Glint: true
    DisplayName: "&bFluid Upgrade"
    Lore:
      - "&7Allows Fluids or Experience to be stored."
      - "{toggleState}"
      - "{moduleActions}"
      - "{containedFluid}"
    CustomModelData: 2003

  Feeding:
    Enabled: true
    Toggleable: true
    SecondaryAction: true
    ScreenType: Dropper
    # Feeding behavior tuning
    MinFoodLevel: 18
    CooldownTicks: 20
    # SelectionMode: BestCandidate or WhitelistOrder
    SelectionMode: BestCandidate
    # Preference: Nutrition or Effects (harmful foods last)
    Preference: Nutrition
    # Debug feeding math/selection in console
    Debug: false
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " I "
        - "ATC"
        - " G "
      Ingredients:
        I: GOLD_INGOT
        A: GOLDEN_APPLE
        T: MODULE:CraftingTemplate
        C: GOLDEN_CARROT
        G: GLISTERING_MELON_SLICE
      OutputMaterial: GOLDEN_CARROT
      Glint: true
    DisplayName: "&3Feeding Upgrade"
    Lore:
      - "&7Automatically feeds the Player when hungry."
      - "{toggleState}"
      - "{feedingMode}"
      - "{moduleActions}"
    CustomModelData: 2004

  Void:
    Enabled: true
    Toggleable: true
    ScreenType: Dropper
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " R "
        - "OTO"
        - " E "
      Ingredients:
        R: REDSTONE
        O: OBSIDIAN
        T: MODULE:CraftingTemplate
        E: ENDER_PEARL
      OutputMaterial: ENDER_EYE
      Glint: true
    DisplayName: "&8Void Upgrade"
    Lore:
      # - "&7Voids all the hungry."
      - "&7Voids all filtered items."
      - "{toggleState}"
      - "{moduleActions}"

    CustomModelData: 2005

  # Workstation upgrades allow opening various crafting/smelting/etc., interfaces directly from the backpack.
  Crafting:
    Enabled: true
    Toggleable: false
    ScreenType: Crafting
    Pattern:
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " L "
        - "CTC"
        - " B "
      Ingredients:
        L: LEATHER
        B: CRAFTING_TABLE
        T: MODULE:CraftingTemplate
        C: CHEST
      OutputMaterial: CRAFTING_TABLE
      Glint: true
    DisplayName: "&eCrafting Upgrade"
    Lore:
      - "&7A portable Workbench."
      - "{moduleActions}"
    CustomModelData: 2006

  Smelting:
    Enabled: true
    Toggleable: false
    ScreenType: Smelting
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "LTL"
        - " F "
      Ingredients:
        C: CRAFTING_TABLE
        L: LEATHER
        T: MODULE:CraftingTemplate
        F: FURNACE
      OutputMaterial: FURNACE
      Glint: true
    DisplayName: "&eSmelting Upgrade"
    Lore:
      - "&7A portable Furnace."
      - "{moduleActions}"
    CustomModelData: 2007

  Blasting:
    Enabled: true
    Toggleable: false
    ScreenType: Blasting
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "LTL"
        - " F "
      Ingredients:
        C: CRAFTING_TABLE
        L: LEATHER
        T: MODULE:CraftingTemplate
        F: BLAST_FURNACE
      OutputMaterial: BLAST_FURNACE
      Glint: true
    DisplayName: "&eBlasting Upgrade"
    Lore:
      - "&7A portable Blast Furnace."
      - "{moduleActions}"
    CustomModelData: 2008

  Smoking:
    Enabled: true
    Toggleable: false
    ScreenType: Smoking
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "LTL"
        - " S "
      Ingredients:
        C: CRAFTING_TABLE
        L: LEATHER
        T: MODULE:CraftingTemplate
        S: SMOKER
      OutputMaterial: SMOKER
      Glint: true
    DisplayName: "&eSmoking Upgrade"
    Lore:
      - "&7A portable Smoking."
      - "{moduleActions}"
    CustomModelData: 2009

  Stonecutter:
    Enabled: true
    Toggleable: false
    ScreenType: Stonecutter
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "BTB"
        - " S "
      Ingredients:
        C: CRAFTING_TABLE
        B: BRICKS
        T: MODULE:CraftingTemplate
        S: STONECUTTER
      OutputMaterial: STONECUTTER
      Glint: true
    DisplayName: "&eStonecutting Upgrade"
    Lore:
      - "&7A portable Stonecutter."
      - "{moduleActions}"
    CustomModelData: 2010

  Anvil:
    Enabled: true
    Toggleable: false
    ScreenType: Anvil
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "ITI"
        - " A "
      Ingredients:
        C: CRAFTING_TABLE
        I: IRON_BLOCK
        T: MODULE:CraftingTemplate
        A: ANVIL
      OutputMaterial: ANVIL
      Glint: true
    DisplayName: "&eAnvil Upgrade"
    Lore:
      - "&7A portable Anvil."
      - "{moduleActions}"
    CustomModelData: 2011

  Smithing:
    Enabled: true
    Toggleable: false
    ScreenType: Smithing
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " C "
        - "PTP"
        - " S "
      Ingredients:
        C: CRAFTING_TABLE
        P: PAPER
        T: MODULE:CraftingTemplate
        S: SMITHING_TABLE
      OutputMaterial: SMITHING_TABLE
      Glint: true
    DisplayName: "&eSmithing Upgrade"
    Lore:
      - "&7A portable Smithing Table."
      - "{moduleActions}"
    CustomModelData: 2012

  Jukebox:
    Enabled: true
    Toggleable: true
    SecondaryAction: true
    ScreenType: Dropper
    # Playback config:
    # - Mode: Shuffle | RepeatOne | RepeatAll
    # - TrackDurationTicks: Approximate duration before advancing (vanilla disc lengths vary)
    Mode: RepeatAll
    TrackDurationTicks: 2400
    Volume: 1.0
    Pitch: 1.0
    HearRadius: 32.0
    CraftingRecipe:
      Type: Crafting
      Pattern:
        - " D "
        - "PTP"
        - " J "
      Ingredients:
        D: DROPPER
        P: OAK_PLANKS
        T: MODULE:CraftingTemplate
        J: JUKEBOX
      OutputMaterial: JUKEBOX
      Glint: true
    DisplayName: "&eJukebox Upgrade"
    Lore:
      - "&7A portable Jukebox."
      - "{toggleState}"
      - "{jukeboxMode}"
      - "{moduleActions}"
    CustomModelData: 2015
